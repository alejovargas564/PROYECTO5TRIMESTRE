<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Agendar Visita - SAPIB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root { 
            --primary: #4F46E5; 
            --secondary: #14B8A6; /* Teal para acción principal */
        }
        /* Se elimina el estilo .bg-sapib para usar un fondo simple */
        @keyframes fadeIn { /* existing style */ }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex justify-center items-center">

<div class="max-w-md w-full bg-white shadow-2xl rounded-xl p-8 border-t-4 border-[var(--secondary)] animate-[fadeIn_.6s_ease-out]">
    
    <h2 class="text-center text-3xl font-bold text-[var(--primary)] mb-6 flex items-center justify-center">
        <i class="bi bi-calendar-plus-fill mr-3 text-[var(--secondary)]"></i>
        Agendar Visita a 
    </h2>
    <p class="text-center text-xl font-semibold text-gray-800 mb-6" th:text="${fundacion.userName}"></p>

    <form th:action="@{/voluntario/agendar/guardar}" th:object="${visitaForm}" method="post" class="space-y-5">

        <input type="hidden" name="idFundacion" th:value="${fundacion.id}"/>

        <div>
            <label class="block text-gray-700 mb-1 font-medium flex items-center">
                <i class="bi bi-clock-fill mr-2 text-gray-500"></i> Fecha y Hora de la Visita:
            </label>
            <input type="datetime-local" th:field="*{fechaVisita}"
                   class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[var(--primary)] transition"
                   required>
        </div>

        <div>
            <label class="block text-gray-700 mb-1 font-medium flex items-center">
                <i class="bi bi-chat-left-text-fill mr-2 text-gray-500"></i> Descripción/Propósito de la visita:
            </label>
            <textarea th:field="*{descripcion}" rows="4"
                      class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[var(--primary)] transition"
                      placeholder="Ej: Quiero ofrecer un taller de lectura o llevar suministros donados."
                      required></textarea>
        </div>

        <button type="submit"
                class="w-full bg-[var(--secondary)] text-white py-3 rounded-lg font-semibold hover:bg-teal-600 transition shadow-lg transform hover:scale-[1.01]">
            <i class="bi bi-send-fill mr-2"></i> Enviar Solicitud de Visita
        </button>
    </form>

    <div class="text-center mt-6 pt-4 border-t border-gray-100">
        <a th:href="@{/voluntario/fundaciones}" class="text-[var(--primary)] font-semibold hover:underline flex items-center justify-center">
            <i class="bi bi-arrow-left-circle-fill mr-2"></i> Volver a Fundaciones
        </a>
    </div>
</div>
</body>
</html>